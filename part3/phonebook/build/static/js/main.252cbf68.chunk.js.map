{"version":3,"sources":["components/filter.js","components/addPeople.js","services/people.js","components/renderPeople.js","components/notification.js","App.js","index.js"],"names":["Filter","newFilter","filterNames","value","onChange","onKeyUp","Addpeople","newName","handlingName","newNumber","handlingNumber","addNewName","onSubmit","type","baseURL","newObject","axios","post","then","response","data","get","id","delete","put","RenderPeople","filtered","setFiltered","setPersons","map","nameOf","i","name","number","onClick","window","confirm","peopleService","del","filter","people","console","log","Notification","message","className","text","App","useState","persons","setNewName","setNewNumber","setNewFilter","errorMessage","seterrorMessage","opts","runValidators","useEffect","initialObjects","event","target","showFiltered","names","toLowerCase","includes","preventDefault","nameObject","some","changedNumber","person","catch","error","setTimeout","returnedData","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.252cbf68.chunk.js","sourcesContent":["const Filter = ({ newFilter, filterNames }) => {\n  return (\n    <div>\n      filter shown with :{' '}\n      <input value={newFilter} onChange={filterNames} onKeyUp={filterNames} />\n    </div>\n  )\n}\n\nexport default Filter\n","const Addpeople = ({\n  newName,\n  handlingName,\n  newNumber,\n  handlingNumber,\n  addNewName,\n}) => {\n  return (\n    <form onSubmit={addNewName}>\n      <div>\n        name: <input value={newName} onChange={handlingName} />\n        {'\\n'}\n        number: <input value={newNumber} onChange={handlingNumber} />\n        <button type='submit'>add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default Addpeople\n","import axios from 'axios'\n\nconst baseURL = 'https://stormy-headland-70337.herokuapp.com/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseURL)\n  return request.then((response) => response.data)\n}\n\nconst addData = (newObject) => {\n  const request = axios.post(baseURL, newObject)\n  return request.then((response) => response.data)\n}\n\nconst deleteData = (id, newObject) => {\n  const request = axios.delete(`${baseURL}/${id}`, newObject)\n  return request.then((response) => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseURL}/${id}`, newObject)\n  return request.then((response) => response.data)\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { addData, getAll, deleteData, update }\n","import peopleService from '../services/people'\n\nconst RenderPeople = ({ filtered, setFiltered, setPersons }) => {\n  return (\n    <div>\n      {filtered.map((nameOf, i) => (\n        <p key={i}>\n          {nameOf.name} {nameOf.number}{' '}\n          <button\n            type='submit'\n            key='i'\n            onClick={() =>\n              window.confirm(`Delete '${nameOf.name}'`)\n                ? peopleService.deleteData(nameOf.id).then((response) => {\n                    const del = filtered.filter(\n                      (people) => nameOf.id !== people.id\n                    )\n                    setFiltered(del)\n                    setPersons(del)\n                  })\n                : console.log('canceled')\n            }>\n            Delete\n          </button>\n        </p>\n      ))}\n    </div>\n  )\n}\n\nexport default RenderPeople\n","const Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return <div className={message.type}>{message.text}</div>\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/filter'\nimport Addpeople from './components/addPeople'\nimport RenderPeople from './components/renderPeople'\nimport peopleService from './services/people'\nimport './index.css'\nimport Notification from './components/notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [filtered, setFiltered] = useState(persons)\n  const [errorMessage, seterrorMessage] = useState(null)\n  const opts = { runValidators: true }\n\n  useEffect(() => {\n    peopleService.getAll().then((initialObjects) => {\n      setPersons(initialObjects)\n      setFiltered(initialObjects)\n    })\n  }, [])\n\n  const filterNames = (event) => {\n    setFiltered(persons)\n    setNewFilter(event.target.value)\n\n    const showFiltered = persons.filter((names) =>\n      names.name.toLowerCase().includes(newFilter.toLowerCase())\n    )\n    setFiltered(showFiltered)\n  }\n\n  const handlingName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handlingNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const addNewName = (event) => {\n    event.preventDefault()\n    const nameObject = {\n      name: newName,\n      number: newNumber,\n    }\n\n    const nameExists = filtered.some((names) => names.name === newName)\n\n    if (nameExists) {\n      const newNumber = persons.filter(\n        (value) => value.name === nameObject.name\n      )\n\n      const changedNumber = { ...nameObject, id: newNumber[0].id }\n      window.confirm(\n        `${nameObject.name} is already added to  phonebook,replace the old number with a new one?`\n      )\n        ? peopleService\n            .update(changedNumber.id, changedNumber, opts)\n            .then((response) => {\n              setPersons(\n                persons.map((person) =>\n                  person.name !== nameObject.name ? person : response\n                )\n              )\n              setFiltered(\n                persons.map((person) =>\n                  person.name !== nameObject.name ? person : response\n                )\n              ).catch((error) => console.log(error.response.data))\n\n              seterrorMessage({\n                text: `Updated as ${nameObject.name} number`,\n                type: 'succesful',\n              })\n              setTimeout(() => {\n                seterrorMessage(null)\n              }, 5000)\n            })\n            .catch((error) => {\n              seterrorMessage({\n                text: `Information of ${nameObject.name} has already been removed from server`,\n                type: 'error',\n              })\n              setTimeout(() => {\n                seterrorMessage(null)\n              }, 5000)\n            })\n        : console.log('nothing has changed')\n    } else {\n      peopleService\n        .addData(nameObject)\n        .then((returnedData) => {\n          setFiltered(filtered.concat(returnedData))\n          setPersons(persons.concat(returnedData))\n          setNewName('')\n          setNewNumber('')\n          seterrorMessage({\n            text: `Added' ${nameObject.name}'`,\n            type: 'succesful',\n          })\n          setTimeout(() => {\n            seterrorMessage(null)\n          }, 5000)\n        })\n        .catch(\n          (error) =>\n            seterrorMessage({\n              text: `${error.response.data.error}`,\n              type: 'error',\n            }),\n          setTimeout(() => {\n            seterrorMessage(null)\n          }, 5000)\n        )\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} />\n      <Filter newFilter={newFilter} filterNames={filterNames} />\n\n      <h3>add a new</h3>\n\n      <Addpeople\n        newName={newName}\n        newNumber={newNumber}\n        handlingName={handlingName}\n        handlingNumber={handlingNumber}\n        addNewName={addNewName}\n      />\n\n      <h2>Numbers</h2>\n\n      <RenderPeople\n        filtered={filtered}\n        setFiltered={setFiltered}\n        setPersons={setPersons}\n      />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}